"use strict";
(self["webpackChunkfront_end"] = self["webpackChunkfront_end"] || []).push([["src_creator_widget_js"],{

/***/ "./src/creator/b64toblob.js":
/*!**********************************!*\
  !*** ./src/creator/b64toblob.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b64toBlob)
/* harmony export */ });
function b64toBlob(b64Data) {
  var contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  var sliceSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 512;
  var byteCharacters = atob(b64Data);
  var byteArrays = [];
  for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
    var slice = byteCharacters.slice(offset, offset + sliceSize);
    var byteNumbers = new Array(slice.length);
    for (var i = 0; i < slice.length; i++) {
      byteNumbers[i] = slice.charCodeAt(i);
    }
    var byteArray = new Uint8Array(byteNumbers);
    byteArrays.push(byteArray);
  }
  var blob = new Blob(byteArrays, {
    type: contentType
  });
  return blob;
}

/***/ }),

/***/ "./src/creator/widget.js":
/*!*******************************!*\
  !*** ./src/creator/widget.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Widget)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _b64toblob__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./b64toblob */ "./src/creator/b64toblob.js");


function DeleteButton(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    id: "btn-delete",
    onClick: function onClick() {
      props.deleteItem(props.index);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    height: "20",
    width: "20"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {
    d: "M6.5 17q-.625 0-1.062-.438Q5 16.125 5 15.5v-10H4V4h4V3h4v1h4v1.5h-1v10q0 .625-.438 1.062Q14.125 17 13.5 17ZM8 14h1.5V7H8Zm2.5 0H12V7h-1.5Z"
  })));
}
function Widget(props) {
  var item = props.item;
  var itemRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var onDragStart = function onDragStart(e) {
    e.dataTransfer.effectedAllowed = 'move';
    e.dataTransfer.setDragImage(e.target, 50000, 50000);

    // custom drag ghost
    var ghostNode = e.target.cloneNode(true);
    ghostNode.style.position = 'absolute';

    // show ghost pos
    ghostNode.style.top = e.pageY - e.target.offsetHeight / 2 + 'px';
    ghostNode.style.left = e.pageX - e.target.offsetWidth / 2 + 'px';
    ghostNode.style.height = e.target.offsetHeight + 'px';
    ghostNode.style.width = e.target.offsetWidth + 'px';
    ghostNode.style.opacity = '0.8';
    ghostNode.style.pointerEvents = 'none';

    // add id
    ghostNode.id = 'ghostNode';
    document.body.prepend(ghostNode);
    itemRef.current.classList.add('dragstart');
    if (props.onDragStart) {
      props.onDragStart(props.index);
    }
  };
  var onDrag = function onDrag(e) {
    //move node with mouse
    var ghostNode = document.querySelector('#ghostNode');
    ghostNode.style.top = e.pageY - e.target.offsetHeight / 2 + 'px';
    ghostNode.style.left = e.pageX - e.target.offsetWidth / 2 + 'px';
  };
  var onDragEnd = function onDragEnd(e) {
    // remove ghost node
    document.querySelector('#ghostNode').remove();
    // remove item style
    itemRef.current.classList.remove('dragstart');
  };
  var onDragEnter = function onDragEnter() {
    return itemRef.current.classList.add('dragover');
  };
  var onDragLeave = function onDragLeave() {
    return itemRef.current.classList.remove('dragover');
  };
  var onDragOver = function onDragOver(e) {
    return e.preventDefault();
  };
  var onDrop = function onDrop() {
    itemRef.current.classList.remove('dragover');
    props.onDrop(props.index);
  };
  function getWidget() {
    switch (item.type) {
      case 'Text':
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
          className: "widget-text"
        }, item.text);
      case 'Question':
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
          style: {
            width: "100%",
            height: "fit-content"
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h2", {
          className: "widget-text"
        }, item.question), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
          className: "widget-text"
        }, item.answer));
      case 'Image':
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
          className: "img-wrapper-small"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {
          className: "img-preview",
          src: URL.createObjectURL((0,_b64toblob__WEBPACK_IMPORTED_MODULE_1__["default"])(item.file)),
          alt: item.name
        }));
      case 'Video':
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("iframe", {
          src: "https://www.youtube.com/embed/" + item.youtubeId,
          style: {
            border: "none",
            margin: "10px",
            borderRadius: "5px"
          },
          title: "Video preview"
        });
      default:
        break;
    }
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    id: "widget",
    className: "round-border blue-border",
    draggable: true,
    ref: itemRef,
    onDragStart: onDragStart,
    onDrag: onDrag,
    onDragEnd: onDragEnd,
    onDragEnter: onDragEnter,
    onDragLeave: onDragLeave,
    onDragOver: onDragOver,
    onDrop: onDrop
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DeleteButton, {
    deleteItem: props.deleteItem,
    index: props.index
  }), getWidget());
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1VBQUssU0FBUyxFQUFDLGFBQWE7VUFBQyxHQUFHLEVBQUVDLEdBQUcsQ0FBQ0MsZUFBZSxDQUFDdkUsc0RBQVMsQ0FBQzRCLElBQUksQ0FBQzRDLElBQUksQ0FBQyxDQUFFO1VBQUMsR0FBRyxFQUFFNUMsSUFBSSxDQUFDNkM7UUFBSyxFQUFHLENBQzdGO01BQ2QsS0FBSyxPQUFPO1FBQ1Isb0JBQ0k7VUFBUSxHQUFHLEVBQUUsZ0NBQWdDLEdBQUU3QyxJQUFJLENBQUM4QyxTQUFVO1VBQUMsS0FBSyxFQUFFO1lBQUNDLE1BQU0sRUFBRSxNQUFNO1lBQUVDLE1BQU0sRUFBRSxNQUFNO1lBQUVDLFlBQVksRUFBRTtVQUFLLENBQUU7VUFBQyxLQUFLLEVBQUM7UUFBZSxFQUFVO01BQ3BLO1FBQ0k7SUFBTTtFQUdsQjtFQUVILG9CQUNPO0lBQUssRUFBRSxFQUFDLFFBQVE7SUFBQyxTQUFTLEVBQUMsMEJBQTBCO0lBQ2pELFNBQVM7SUFDVCxHQUFHLEVBQUVoRCxPQUFRO0lBQ2IsV0FBVyxFQUFFQyxXQUFZO0lBQ3pCLE1BQU0sRUFBRTJCLE1BQU87SUFDZixTQUFTLEVBQUVFLFNBQVU7SUFDckIsV0FBVyxFQUFFRSxXQUFZO0lBQ3pCLFdBQVcsRUFBRUMsV0FBWTtJQUN6QixVQUFVLEVBQUVDLFVBQVc7SUFDdkIsTUFBTSxFQUFFRTtFQUFPLGdCQUVmLDJEQUFDLFlBQVk7SUFBQyxVQUFVLEVBQUV6QyxLQUFLLENBQUNDLFVBQVc7SUFBQyxLQUFLLEVBQUVELEtBQUssQ0FBQ0U7RUFBTSxFQUFHLEVBQzFFd0MsU0FBUyxFQUFFLENBQ0Q7QUFFZCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250LWVuZC8uL3NyYy9jcmVhdG9yL2I2NHRvYmxvYi5qcyIsIndlYnBhY2s6Ly9mcm9udC1lbmQvLi9zcmMvY3JlYXRvci93aWRnZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYjY0dG9CbG9iKGI2NERhdGEsIGNvbnRlbnRUeXBlPScnLCBzbGljZVNpemU9NTEyKSB7XHJcblx0Y29uc3QgYnl0ZUNoYXJhY3RlcnMgPSBhdG9iKGI2NERhdGEpO1xyXG5cdGNvbnN0IGJ5dGVBcnJheXMgPSBbXTtcclxuICBcclxuXHRmb3IgKGxldCBvZmZzZXQgPSAwOyBvZmZzZXQgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGg7IG9mZnNldCArPSBzbGljZVNpemUpIHtcclxuXHQgIGNvbnN0IHNsaWNlID0gYnl0ZUNoYXJhY3RlcnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzbGljZVNpemUpO1xyXG4gIFxyXG5cdCAgY29uc3QgYnl0ZU51bWJlcnMgPSBuZXcgQXJyYXkoc2xpY2UubGVuZ3RoKTtcclxuXHQgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpY2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdGJ5dGVOdW1iZXJzW2ldID0gc2xpY2UuY2hhckNvZGVBdChpKTtcclxuXHQgIH1cclxuICBcclxuXHQgIGNvbnN0IGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVOdW1iZXJzKTtcclxuXHQgIGJ5dGVBcnJheXMucHVzaChieXRlQXJyYXkpO1xyXG5cdH1cclxuICBcclxuXHRjb25zdCBibG9iID0gbmV3IEJsb2IoYnl0ZUFycmF5cywge3R5cGU6IGNvbnRlbnRUeXBlfSk7XHJcblx0cmV0dXJuIGJsb2I7XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IGI2NHRvQmxvYiBmcm9tIFwiLi9iNjR0b2Jsb2JcIjtcclxuXHJcbmZ1bmN0aW9uIERlbGV0ZUJ1dHRvbihwcm9wcykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8YnV0dG9uIGlkPVwiYnRuLWRlbGV0ZVwiIG9uQ2xpY2s9eygpID0+IHtwcm9wcy5kZWxldGVJdGVtKHByb3BzLmluZGV4KX19PlxyXG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBoZWlnaHQ9XCIyMFwiIHdpZHRoPVwiMjBcIj5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgMTdxLS42MjUgMC0xLjA2Mi0uNDM4UTUgMTYuMTI1IDUgMTUuNXYtMTBINFY0aDRWM2g0djFoNHYxLjVoLTF2MTBxMCAuNjI1LS40MzggMS4wNjJRMTQuMTI1IDE3IDEzLjUgMTdaTTggMTRoMS41VjdIOFptMi41IDBIMTJWN2gtMS41WlwiLz5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2lkZ2V0KHByb3BzKSB7XHJcbiAgICBjb25zdCBpdGVtID0gcHJvcHMuaXRlbTtcclxuXHJcbiAgICBjb25zdCBpdGVtUmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKGUpID0+IHtcclxuICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RlZEFsbG93ZWQgPSAnbW92ZSc7XHJcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGUudGFyZ2V0LCA1MDAwMCwgNTAwMDApO1xyXG5cclxuICAgICAgICAvLyBjdXN0b20gZHJhZyBnaG9zdFxyXG4gICAgICAgIGxldCBnaG9zdE5vZGUgPSBlLnRhcmdldC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIGdob3N0Tm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblxyXG4gICAgICAgIC8vIHNob3cgZ2hvc3QgcG9zXHJcbiAgICAgICAgZ2hvc3ROb2RlLnN0eWxlLnRvcCA9IChlLnBhZ2VZIC0gZS50YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMikgKyAncHgnO1xyXG4gICAgICAgIGdob3N0Tm9kZS5zdHlsZS5sZWZ0ID0gKGUucGFnZVggLSBlLnRhcmdldC5vZmZzZXRXaWR0aCAvIDIpICsgJ3B4JztcclxuXHJcbiAgICAgICAgZ2hvc3ROb2RlLnN0eWxlLmhlaWdodCA9IGUudGFyZ2V0Lm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgZ2hvc3ROb2RlLnN0eWxlLndpZHRoID0gZS50YXJnZXQub2Zmc2V0V2lkdGggKyAncHgnO1xyXG5cclxuICAgICAgICBnaG9zdE5vZGUuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgIGdob3N0Tm9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAvLyBhZGQgaWRcclxuICAgICAgICBnaG9zdE5vZGUuaWQgPSAnZ2hvc3ROb2RlJztcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKGdob3N0Tm9kZSk7XHJcblxyXG4gICAgICAgIGl0ZW1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdkcmFnc3RhcnQnKTtcclxuXHJcbiAgICAgICAgaWYgKHByb3BzLm9uRHJhZ1N0YXJ0KSB7XHJcbiAgICAgICAgICAgIHByb3BzLm9uRHJhZ1N0YXJ0KHByb3BzLmluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb25EcmFnID0gKGUpID0+IHtcclxuICAgICAgICAvL21vdmUgbm9kZSB3aXRoIG1vdXNlXHJcbiAgICAgICAgbGV0IGdob3N0Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnaG9zdE5vZGUnKTtcclxuICAgICAgICBnaG9zdE5vZGUuc3R5bGUudG9wID0gKGUucGFnZVkgLSBlLnRhcmdldC5vZmZzZXRIZWlnaHQgLyAyKSArICdweCc7XHJcbiAgICAgICAgZ2hvc3ROb2RlLnN0eWxlLmxlZnQgPSAoZS5wYWdlWCAtIGUudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMikgKyAncHgnO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9uRHJhZ0VuZCA9IChlKSA9PiB7XHJcbiAgICAgICAgLy8gcmVtb3ZlIGdob3N0IG5vZGVcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2hvc3ROb2RlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgLy8gcmVtb3ZlIGl0ZW0gc3R5bGVcclxuICAgICAgICBpdGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ3N0YXJ0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb25EcmFnRW50ZXIgPSAoKSA9PiBpdGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnZHJhZ292ZXInKTtcclxuXHJcbiAgICBjb25zdCBvbkRyYWdMZWF2ZSA9ICgpID0+IGl0ZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnb3ZlcicpO1xyXG5cclxuICAgIGNvbnN0IG9uRHJhZ092ZXIgPSAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IG9uRHJvcCA9ICgpID0+IHtcclxuICAgICAgICBpdGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ292ZXInKTtcclxuICAgICAgICBwcm9wcy5vbkRyb3AocHJvcHMuaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0V2lkZ2V0KCkge1xyXG4gICAgICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1RleHQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICggXHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwid2lkZ2V0LXRleHRcIj57aXRlbS50ZXh0fTwvcD4pO1xyXG4gICAgICAgICAgICBjYXNlICdRdWVzdGlvbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFx0XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e3dpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcImZpdC1jb250ZW50XCJ9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIndpZGdldC10ZXh0XCI+e2l0ZW0ucXVlc3Rpb259PC9oMj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwid2lkZ2V0LXRleHRcIj57aXRlbS5hbnN3ZXJ9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgICAgIGNhc2UgJ0ltYWdlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoIFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nLXdyYXBwZXItc21hbGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpbWctcHJldmlld1wiIHNyYz17VVJMLmNyZWF0ZU9iamVjdFVSTChiNjR0b0Jsb2IoaXRlbS5maWxlKSl9IGFsdD17aXRlbS5uYW1lfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgICAgIGNhc2UgJ1ZpZGVvJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoIFxyXG4gICAgICAgICAgICAgICAgICAgIDxpZnJhbWUgc3JjPXtcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiKyBpdGVtLnlvdXR1YmVJZH0gc3R5bGU9e3tib3JkZXI6IFwibm9uZVwiLCBtYXJnaW46IFwiMTBweFwiLCBib3JkZXJSYWRpdXM6IFwiNXB4XCJ9fSB0aXRsZT1cIlZpZGVvIHByZXZpZXdcIj48L2lmcmFtZT4pO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cdHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBpZD1cIndpZGdldFwiIGNsYXNzTmFtZT1cInJvdW5kLWJvcmRlciBibHVlLWJvcmRlclwiIFxyXG4gICAgICAgICAgICBkcmFnZ2FibGVcclxuICAgICAgICAgICAgcmVmPXtpdGVtUmVmfVxyXG4gICAgICAgICAgICBvbkRyYWdTdGFydD17b25EcmFnU3RhcnR9XHJcbiAgICAgICAgICAgIG9uRHJhZz17b25EcmFnfVxyXG4gICAgICAgICAgICBvbkRyYWdFbmQ9e29uRHJhZ0VuZH1cclxuICAgICAgICAgICAgb25EcmFnRW50ZXI9e29uRHJhZ0VudGVyfVxyXG4gICAgICAgICAgICBvbkRyYWdMZWF2ZT17b25EcmFnTGVhdmV9XHJcbiAgICAgICAgICAgIG9uRHJhZ092ZXI9e29uRHJhZ092ZXJ9XHJcbiAgICAgICAgICAgIG9uRHJvcD17b25Ecm9wfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxEZWxldGVCdXR0b24gZGVsZXRlSXRlbT17cHJvcHMuZGVsZXRlSXRlbX0gaW5kZXg9e3Byb3BzLmluZGV4fSAvPlxyXG5cdFx0XHR7Z2V0V2lkZ2V0KCl9XHJcbiAgICAgICAgPC9kaXY+XHJcblx0KTtcclxufSJdLCJuYW1lcyI6WyJiNjR0b0Jsb2IiLCJiNjREYXRhIiwiY29udGVudFR5cGUiLCJzbGljZVNpemUiLCJieXRlQ2hhcmFjdGVycyIsImF0b2IiLCJieXRlQXJyYXlzIiwib2Zmc2V0IiwibGVuZ3RoIiwic2xpY2UiLCJieXRlTnVtYmVycyIsIkFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJieXRlQXJyYXkiLCJVaW50OEFycmF5IiwicHVzaCIsImJsb2IiLCJCbG9iIiwidHlwZSIsIlJlYWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJEZWxldGVCdXR0b24iLCJwcm9wcyIsImRlbGV0ZUl0ZW0iLCJpbmRleCIsIldpZGdldCIsIml0ZW0iLCJpdGVtUmVmIiwib25EcmFnU3RhcnQiLCJlIiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0ZWRBbGxvd2VkIiwic2V0RHJhZ0ltYWdlIiwidGFyZ2V0IiwiZ2hvc3ROb2RlIiwiY2xvbmVOb2RlIiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsInBhZ2VZIiwib2Zmc2V0SGVpZ2h0IiwibGVmdCIsInBhZ2VYIiwib2Zmc2V0V2lkdGgiLCJoZWlnaHQiLCJ3aWR0aCIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiaWQiLCJkb2N1bWVudCIsImJvZHkiLCJwcmVwZW5kIiwiY3VycmVudCIsImNsYXNzTGlzdCIsImFkZCIsIm9uRHJhZyIsInF1ZXJ5U2VsZWN0b3IiLCJvbkRyYWdFbmQiLCJyZW1vdmUiLCJvbkRyYWdFbnRlciIsIm9uRHJhZ0xlYXZlIiwib25EcmFnT3ZlciIsInByZXZlbnREZWZhdWx0Iiwib25Ecm9wIiwiZ2V0V2lkZ2V0IiwidGV4dCIsInF1ZXN0aW9uIiwiYW5zd2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZmlsZSIsIm5hbWUiLCJ5b3V0dWJlSWQiLCJib3JkZXIiLCJtYXJnaW4iLCJib3JkZXJSYWRpdXMiXSwic291cmNlUm9vdCI6IiJ9